(()=>{var e={2348:(e,t,s)=>{var a={"./af":6024,"./af.js":6024,"./ar":7544,"./ar-dz":1736,"./ar-dz.js":1736,"./ar-kw":7888,"./ar-kw.js":7888,"./ar-ly":5272,"./ar-ly.js":5272,"./ar-ma":9688,"./ar-ma.js":9688,"./ar-ps":5280,"./ar-ps.js":5280,"./ar-sa":4948,"./ar-sa.js":4948,"./ar-tn":1992,"./ar-tn.js":1992,"./ar.js":7544,"./az":5777,"./az.js":5777,"./be":9940,"./be.js":9940,"./bg":6107,"./bg.js":6107,"./bm":3544,"./bm.js":3544,"./bn":4952,"./bn-bd":2876,"./bn-bd.js":2876,"./bn.js":4952,"./bo":6576,"./bo.js":6576,"./br":7392,"./br.js":7392,"./bs":3584,"./bs.js":3584,"./ca":9776,"./ca.js":9776,"./cs":6560,"./cs.js":6560,"./cv":7716,"./cv.js":7716,"./cy":956,"./cy.js":956,"./da":5188,"./da.js":5188,"./de":8960,"./de-at":2131,"./de-at.js":2131,"./de-ch":6128,"./de-ch.js":6128,"./de.js":8960,"./dv":3284,"./dv.js":3284,"./el":2972,"./el.js":2972,"./en-au":4356,"./en-au.js":4356,"./en-ca":8440,"./en-ca.js":8440,"./en-gb":2448,"./en-gb.js":2448,"./en-ie":6320,"./en-ie.js":6320,"./en-il":4360,"./en-il.js":4360,"./en-in":632,"./en-in.js":632,"./en-nz":1140,"./en-nz.js":1140,"./en-sg":5384,"./en-sg.js":5384,"./eo":5620,"./eo.js":5620,"./es":9968,"./es-do":6528,"./es-do.js":6528,"./es-mx":8544,"./es-mx.js":8544,"./es-us":1208,"./es-us.js":1208,"./es.js":9968,"./et":373,"./et.js":373,"./eu":9912,"./eu.js":9912,"./fa":4984,"./fa.js":4984,"./fi":2819,"./fi.js":2819,"./fil":2512,"./fil.js":2512,"./fo":952,"./fo.js":952,"./fr":8405,"./fr-ca":3220,"./fr-ca.js":3220,"./fr-ch":5720,"./fr-ch.js":5720,"./fr.js":8405,"./fy":8116,"./fy.js":8116,"./ga":9916,"./ga.js":9916,"./gd":6908,"./gd.js":6908,"./gl":4088,"./gl.js":4088,"./gom-deva":5064,"./gom-deva.js":5064,"./gom-latn":6300,"./gom-latn.js":6300,"./gu":8828,"./gu.js":8828,"./he":672,"./he.js":672,"./hi":648,"./hi.js":648,"./hr":8864,"./hr.js":8864,"./hu":8164,"./hu.js":8164,"./hy-am":2528,"./hy-am.js":2528,"./id":3400,"./id.js":3400,"./is":3912,"./is.js":3912,"./it":7088,"./it-ch":7988,"./it-ch.js":7988,"./it.js":7088,"./ja":2501,"./ja.js":2501,"./jv":376,"./jv.js":376,"./ka":7048,"./ka.js":7048,"./kk":6416,"./kk.js":6416,"./km":8288,"./km.js":8288,"./kn":4833,"./kn.js":4833,"./ko":3352,"./ko.js":3352,"./ku":6376,"./ku-kmr":5192,"./ku-kmr.js":5192,"./ku.js":6376,"./ky":2832,"./ky.js":2832,"./lb":1448,"./lb.js":1448,"./lo":4116,"./lo.js":4116,"./lt":296,"./lt.js":296,"./lv":6136,"./lv.js":6136,"./me":8019,"./me.js":8019,"./mi":1320,"./mi.js":1320,"./mk":7720,"./mk.js":7720,"./ml":1228,"./ml.js":1228,"./mn":9564,"./mn.js":9564,"./mr":6116,"./mr.js":6116,"./ms":8512,"./ms-my":9676,"./ms-my.js":9676,"./ms.js":8512,"./mt":9824,"./mt.js":9824,"./my":2792,"./my.js":2792,"./nb":3444,"./nb.js":3444,"./ne":7860,"./ne.js":7860,"./nl":7560,"./nl-be":3760,"./nl-be.js":3760,"./nl.js":7560,"./nn":8888,"./nn.js":8888,"./oc-lnc":8096,"./oc-lnc.js":8096,"./pa-in":8837,"./pa-in.js":8837,"./pl":5904,"./pl.js":5904,"./pt":6840,"./pt-br":1048,"./pt-br.js":1048,"./pt.js":6840,"./ro":3060,"./ro.js":3060,"./ru":3156,"./ru.js":3156,"./sd":6595,"./sd.js":6595,"./se":4560,"./se.js":4560,"./si":8668,"./si.js":8668,"./sk":9500,"./sk.js":9500,"./sl":24,"./sl.js":24,"./sq":4192,"./sq.js":4192,"./sr":6832,"./sr-cyrl":8728,"./sr-cyrl.js":8728,"./sr.js":6832,"./ss":8692,"./ss.js":8692,"./sv":3252,"./sv.js":3252,"./sw":8904,"./sw.js":8904,"./ta":1120,"./ta.js":1120,"./te":6688,"./te.js":6688,"./tet":9556,"./tet.js":9556,"./tg":9248,"./tg.js":9248,"./th":7172,"./th.js":7172,"./tk":208,"./tk.js":208,"./tl-ph":1744,"./tl-ph.js":1744,"./tlh":331,"./tlh.js":331,"./tr":3920,"./tr.js":3920,"./tzl":1980,"./tzl.js":1980,"./tzm":7524,"./tzm-latn":1732,"./tzm-latn.js":1732,"./tzm.js":7524,"./ug-cn":1124,"./ug-cn.js":1124,"./uk":9328,"./uk.js":9328,"./ur":8968,"./ur.js":8968,"./uz":1516,"./uz-latn":9388,"./uz-latn.js":9388,"./uz.js":1516,"./vi":9664,"./vi.js":9664,"./x-pseudo":8616,"./x-pseudo.js":8616,"./yo":5436,"./yo.js":5436,"./zh-cn":3820,"./zh-cn.js":3820,"./zh-hk":112,"./zh-hk.js":112,"./zh-mo":9504,"./zh-mo.js":9504,"./zh-tw":8040,"./zh-tw.js":8040};function r(e){var t=n(e);return s(t)}function n(e){if(!s.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=n,e.exports=r,r.id=2348},7396:(e,t,s)=>{"use strict";var a={};s.r(a),s.d(a,{formatDistance:()=>Ne});var r=s(5328),n=s(6760);const i={class:"app app--vue"},l={class:"app__list"},o={class:"multiselect__wrap"},c={class:"multiselect__wrap"},d={class:"app__sidebar"},u=(0,n.QD)("div",{class:"app__footer"},"v0.25",-1);function g(e,t,s,a,r,g){const m=(0,n.E1)("Multiselect"),p=(0,n.E1)("ListHeader"),h=(0,n.E1)("CalcListTable"),f=(0,n.E1)("Statistics"),_=(0,n.E1)("StatisticsShoes");return(0,n.Wz)(),(0,n.An)("div",i,[(0,n.QD)("div",l,[(0,n.K2)(p,{loader:e.listLoader,onRefreshList:t[2]||(t[2]=e=>g.refreshList())},{gruped:(0,n.Ql)((()=>[(0,n.QD)("div",o,[e.groupByOptions?((0,n.Wz)(),(0,n.Az)(m,{key:0,class:"multiselect--status",placeholder:e.$t("calc.list.group_by.placeholder"),modelValue:r.localGroupBy,"onUpdate:modelValue":t[0]||(t[0]=e=>r.localGroupBy=e),options:e.groupByOptions,disabled:e.listLoader.isLoading||e.listLoader&&e.listLoader.hasOwnProperty("isLoading")&&e.listLoader.isLoading,onChange:g.handleChangeGroupBy},null,8,["placeholder","modelValue","options","disabled","onChange"])):(0,n.g1)("",!0)])])),filters:(0,n.Ql)((()=>[(0,n.QD)("div",c,[e.filterYearsOptions?((0,n.Wz)(),(0,n.Az)(m,{key:0,class:"multiselect--status",placeholder:e.$t("calc.list.filter_by.placeholder"),modelValue:r.localFilterYears,"onUpdate:modelValue":t[1]||(t[1]=e=>r.localFilterYears=e),options:e.filterYearsOptions,disabled:e.listLoader.isLoading||e.listLoader&&e.listLoader.hasOwnProperty("isLoading")&&e.listLoader.isLoading,onChange:g.handleChangeFilterYears},null,8,["placeholder","modelValue","options","disabled","onChange"])):(0,n.g1)("",!0)])])),_:1},8,["loader"]),(0,n.K2)(h,{loader:e.listLoader,columns:e.listColumns,data:e.list,filterYears:r.localFilterYears,groupBy:r.localGroupBy},null,8,["loader","columns","data","filterYears","groupBy"])]),(0,n.QD)("div",d,[(0,n.K2)(f,{loader:e.listLoader,list:e.list},null,8,["loader","list"]),(0,n.K2)(_,{loader:e.listLoader,list:e.list},null,8,["loader","list"])]),u])}var m=s(8936),p=s(8752);const h={class:"statistics statistics--sidebar"},f=["innerHTML"],_={class:"statistics__item"},v={class:"statistics__item"},j={class:"statistics__item"},y={class:"statistics__item"},D={class:"statistics__item"},L={class:"statistics__item"},b={class:"statistics__item"};function k(e,t,s,a,r,i){return(0,n.Wz)(),(0,n.An)("div",h,[(0,n.QD)("div",{class:"section__title",innerHTML:e.$t("statistics.title")},null,8,f),(0,n.QD)("div",_,[(0,n.mY)((0,p.WA)(e.$t("statistics.count_training_sessions"))+": ",1),(0,n.QD)("strong",null,(0,p.WA)(i.getCountTrainingSessions()),1)]),(0,n.QD)("div",v,[(0,n.mY)((0,p.WA)(e.$t("statistics.total_distance"))+": ",1),(0,n.QD)("strong",null,(0,p.WA)(e.$filters.formatDistance(i.getTotalDistance(),"km",!0)),1)]),(0,n.QD)("div",j,[(0,n.mY)((0,p.WA)(e.$t("statistics.longest_distance"))+": ",1),(0,n.QD)("strong",null,(0,p.WA)(e.$filters.formatDistance(i.getLongestDistance(),"km",!0)),1)]),(0,n.QD)("div",y,[(0,n.mY)((0,p.WA)(e.$t("statistics.total_duration"))+": ",1),(0,n.QD)("strong",null,(0,p.WA)(i.getTotalDuration()),1)]),(0,n.QD)("div",D,[(0,n.mY)((0,p.WA)(e.$t("statistics.fastest_average_pace"))+": ",1),(0,n.QD)("strong",null,(0,p.WA)(i.getFastestAveragePace()),1)]),((0,n.Wz)(!0),(0,n.An)(n.ae,null,(0,n.mi)(e.distances,(t=>((0,n.Wz)(),(0,n.An)("div",{class:"statistics__item-separator",key:t},[(0,n.QD)("strong",null,(0,p.WA)(e.$t(`type_run_distance.${t.name}`)),1),(0,n.mY)(" ("+(0,p.WA)(i.getCountTrainingSessionsForDistance(t.value))+") ",1),(0,n.QD)("div",L,[(0,n.mY)((0,p.WA)(e.$t("statistics.fastest_average_pace"))+": ",1),(0,n.QD)("strong",null,(0,p.WA)(i.getFastestAveragePaceForDistance(t.value)),1)]),(0,n.QD)("div",b,[(0,n.mY)((0,p.WA)(e.$t("statistics.fastest_time"))+": ",1),(0,n.QD)("strong",null,(0,p.WA)(i.getTimeToRunForDistance(t.value)),1)])])))),128))])}var A=s(7412),W=s.n(A);const Q={props:{loader:{type:Object,default:null},list:{type:Array,default:null}},computed:{...(0,m.ys)("training",["distances"])},methods:{getCountTrainingSessions(){return this.list&&0!==this.list.length?`${this.list.length}`:"-"},getCountTrainingSessionsForDistance(e){if(!this.list||0===this.list.length)return"-";const t=this.list.filter((t=>t.distance>e));return 0===t.length?"-":`${t.length}`},getTotalDistance(){let e=null;return this.list.forEach((t=>{t.distance&&(e+=t.distance)})),e},getTotalDuration(){if(!this.list||0===this.list.length)return"-";const e=this.list.map((e=>e.duration)),t=e.reduce(((e,t)=>{const[s,a,r]=t.split(":").map(Number);return e+3600*s+60*a+r}),0),s=W().duration(t,"seconds"),a=s.asHours().toFixed(1);return`${a} godz.`},getLongestDistance(){if(0===this.list.length)return null;let e=Math.max(...this.list.map((e=>e.distance)));return e},getFastestAveragePace(){if(!this.list||0===this.list.length)return"-";const e=this.list.reduce(((e,t)=>{const s=W().duration(t.average_pace).asSeconds(),a=W().duration(e).asSeconds();return s<a?t.average_pace:e}),this.list[0].average_pace);return`${e}`},getFastestAveragePaceForDistance(e){if(!this.list||0===this.list.length)return"-";const t=this.list.filter((t=>t.distance>e));if(0===t.length)return"-";const s=t.reduce(((e,t)=>{const s=W().duration(t.average_pace).asSeconds(),a=W().duration(e).asSeconds();return s<a?t.average_pace:e}),t[0].average_pace);return s},getTimeToRunForDistance(e){if(!this.list||0===this.list.length)return"-";const t=this.list.filter((t=>t.distance>e));if(0===t.length)return"-";const s=t.reduce(((e,t)=>{const s=W().duration(t.average_pace).asSeconds(),a=W().duration(e).asSeconds();return s<a?t.average_pace:e}),t[0].average_pace),[a,r]=s.split(":").map(Number),n=(60*a+r)*(e/1e3),i=W().duration(n,"seconds"),l=W().utc(i.asMilliseconds()).format("HH:mm:ss");return l}}};var z=s(8152);const S=(0,z.c)(Q,[["render",k]]),x=S,T={class:"statistics statistics--sidebar"},O=(0,n.QD)("div",{class:"section__title",innerHTML:"Buty"},null,-1),w={class:"statistics__item"},Y={class:"statistics__item"},M={class:"statistics__item"};function $(e,t,s,a,r,i){return(0,n.Wz)(),(0,n.An)("div",T,[O,((0,n.Wz)(!0),(0,n.An)(n.ae,null,(0,n.mi)(e.shoes,((t,s)=>((0,n.Wz)(),(0,n.An)("div",{class:"statistics__item-separator",key:s},[(0,n.QD)("strong",null,(0,p.WA)(t.name),1),(0,n.QD)("div",w,[(0,n.mY)((0,p.WA)(e.$t("statistics.count_training_sessions"))+": ",1),(0,n.QD)("strong",null,(0,p.WA)(i.getTrainingCount(t.count)),1)]),(0,n.QD)("div",Y,[(0,n.mY)((0,p.WA)(e.$t("statistics.total_distance"))+": ",1),(0,n.QD)("strong",null,(0,p.WA)(e.$filters.formatDistance(i.getTotalDistance(t.id),"km",!0)),1)]),(0,n.QD)("div",M,[(0,n.mY)((0,p.WA)(e.$t("statistics.wear"))+": ",1),(0,n.QD)("strong",null,(0,p.WA)(i.getUsagePercentage(t,!0)),1)])])))),128))])}const F={props:{loader:{type:Object,default:null},list:{type:Array,default:null}},computed:{...(0,m.ys)("training/shoes",["shoes"])},methods:{getTrainingCount(e){return this.shoes&&0!==this.shoes.length&&0!==e?e:"-"},getTotalDistance(e){let t=null;return this.list.forEach((s=>{s.training_shoes.includes(e)&&(t+=s.distance)})),t},getUsagePercentage(e,t=!1){if(t&&(!this.list||0===this.list.length||0===e.count))return"-";const s=800,a=this.$filters.formatDistance(this.getTotalDistance(e.id),"km");if(a>=s)return"100%";const r=Math.min(a,s);let n=r/s*100;return n=Math.min(100,n).toFixed(0),t?`${n}%`:n}}},C=(0,z.c)(F,[["render",$]]),B=C,E={class:"list__header"},H=["disabled"],P=(0,n.QD)("i",{class:"icon-arrows-ccw"},null,-1),G=[P];function N(e,t,s,a,r,i){return(0,n.Wz)(),(0,n.An)("div",E,[(0,n.oF)(e.$slots,"gruped"),(0,n.oF)(e.$slots,"filters"),(0,n.QD)("button",{class:"btn",disabled:s.loader.isLoading||s.loader&&s.loader.hasOwnProperty("isLoading")&&s.loader.isLoading,onClick:t[0]||(t[0]=e=>i.clickRefreshList())},G,8,H)])}const I={props:{loader:{type:Object,default:null}},methods:{clickRefreshList(){this.$emit("refresh-list")}}},K=(0,z.c)(I,[["render",N]]),V=K,R={class:(0,p.WN)(["list__table-wrap"])},U={class:"list__table"},q={key:0},J=["textContent"],Z={key:1},X={key:1},ee=["colspan"];function te(e,t,s,a,r,i){const l=(0,n.E1)("CalcListGroup"),o=(0,n.iS)("loader");return(0,n.wt)(((0,n.Wz)(),(0,n.An)("div",R,[(0,n.QD)("table",U,[null!==s.columns&&s.columns.length>0?((0,n.Wz)(),(0,n.An)("thead",q,[(0,n.QD)("tr",null,[((0,n.Wz)(!0),(0,n.An)(n.ae,null,(0,n.mi)(s.columns,((t,s)=>((0,n.Wz)(),(0,n.An)("th",{key:s,class:(0,p.WN)("calc-th--"+t.name),textContent:(0,p.WA)(e.$t("calc.list.columns."+t.name))},null,10,J)))),128))])])):(0,n.g1)("",!0),null!==i.dataDisplay&&s.loader&&s.loader.hasOwnProperty("isLoading")&&!s.loader.isLoading?((0,n.Wz)(),(0,n.An)("tbody",Z,[i.dataDisplay.length>0?((0,n.Wz)(!0),(0,n.An)(n.ae,{key:0},(0,n.mi)(i.dataDisplay,((e,t)=>((0,n.Wz)(),(0,n.Az)(l,{columns:s.columns,data:e,groupIndex:t,previousGroupLength:i.getPreviousGroupLength(t)},null,8,["columns","data","groupIndex","previousGroupLength"])))),256)):((0,n.Wz)(),(0,n.An)("tr",X,[(0,n.QD)("td",{class:"td--table-empty",colspan:s.columns.length,innerHTML:"Brak elementów"},null,8,ee)]))])):(0,n.g1)("",!0)])])),[[o,{loader:s.loader}]])}function se(e,t,s,a,r,i){const l=(0,n.E1)("CalcListGroupHead"),o=(0,n.E1)("CalcListItem");return(0,n.Wz)(),(0,n.An)(n.ae,null,[(0,n.K2)(l,{columns:s.columns,groupData:s.data},null,8,["columns","groupData"]),((0,n.Wz)(!0),(0,n.An)(n.ae,null,(0,n.mi)(s.data.items,((e,t)=>((0,n.Wz)(),(0,n.Az)(o,{key:t,item:e,index:i.globalIndex(t,s.groupIndex)},null,8,["item","index"])))),128))],64)}const ae=["innerHTML"],re=["innerHTML"],ne=["innerHTML"],ie=["innerHTML"],le=["innerHTML"],oe=["innerHTML"],ce=["innerHTML"],de=["innerHTML"],ue=["innerHTML"],ge=["innerHTML"];function me(e,t,s,a,r,i){return(0,n.Wz)(),(0,n.An)("tr",{key:s.index},[(0,n.QD)("td",{innerHTML:i.getOrd(s.index)},null,8,ae),(0,n.QD)("td",{class:"calc-td--date-run",innerHTML:e.$formatDate(s.item.date)},null,8,re),(0,n.QD)("td",{class:"calc-td--distance",innerHTML:e.$filters.formatDistance(s.item.distance,"km")},null,8,ne),(0,n.QD)("td",{class:"calc-td--duration",innerHTML:s.item.duration},null,8,ie),(0,n.QD)("td",{class:"calc-td--stride_length",innerHTML:s.item.stride_length},null,8,le),(0,n.QD)("td",{class:"calc-td--average_heart_rate",innerHTML:s.item.average_heart_rate},null,8,oe),(0,n.QD)("td",{class:"calc-td--v02max",innerHTML:s.item.v02max},null,8,ce),(0,n.QD)("td",{class:"calc-td--cadence",innerHTML:s.item.cadence},null,8,de),(0,n.QD)("td",{class:"calc-td--average_pace",innerHTML:s.item.average_pace},null,8,ue),(0,n.QD)("td",{class:"calc-td--average_speed",innerHTML:s.item.average_speed},null,8,ge)])}const pe={props:{item:{type:Object,default:null},index:{type:Number,default:null}},computed:{getOrd(){return e=>e+1}}},he=(0,z.c)(pe,[["render",me]]),fe=he,_e={key:0},ve=["colspan"],je={class:"statistics statistics--td"},ye={class:"section__title"},De={class:"statistics__item"},Le={class:"statistics__item"},be={class:"statistics__item"},ke={class:"statistics__item"},Ae={class:"statistics__item"},We={class:"statistics__item"},Qe={class:"statistics__item"},ze={class:"statistics__item"},Se={class:"statistics__item"},xe={class:"statistics__item"};function Te(e,t,s,a,r,i){return s.groupData.head&&s.groupData.items.length>0?((0,n.Wz)(),(0,n.An)("tr",_e,[(0,n.QD)("td",{colspan:s.columns.length,class:"training-td--group-head"},[(0,n.QD)("div",je,[(0,n.QD)("div",ye,(0,p.WA)(i.groupTitle),1),(0,n.QD)("div",De,[(0,n.mY)((0,p.WA)(e.$t("statistics.count_training_sessions"))+": ",1),(0,n.QD)("strong",null,(0,p.WA)(i.groupTitleWithKilometers),1)]),(0,n.QD)("div",Le,[(0,n.mY)((0,p.WA)(e.$t("statistics.total_distance"))+": ",1),(0,n.QD)("strong",null,(0,p.WA)(e.$filters.formatDistance(i.totalDistance,"km",!0)),1)]),(0,n.QD)("div",be,[(0,n.mY)((0,p.WA)(e.$t("statistics.longest_distance"))+": ",1),(0,n.QD)("strong",null,(0,p.WA)(e.$filters.formatDistance(i.longestDistance,"km",!0)),1)]),(0,n.QD)("div",ke,[(0,n.mY)((0,p.WA)(e.$t("statistics.total_duration"))+": ",1),(0,n.QD)("strong",null,(0,p.WA)(i.totalDuration)+" godz.",1)]),(0,n.QD)("div",Ae,[(0,n.mY)((0,p.WA)(e.$t("statistics.fastest_average_pace"))+": ",1),(0,n.QD)("strong",null,(0,p.WA)(i.fastestAveragePace),1)]),(0,n.QD)("div",We,[(0,n.mY)(" Średnia Długość Kroku: "),(0,n.QD)("strong",null,(0,p.WA)(i.averageStrideLength.toFixed(2))+" cm",1)]),(0,n.QD)("div",Qe,[(0,n.mY)(" Średni VO2 max: "),(0,n.QD)("strong",null,(0,p.WA)(i.averageVO2Max.toFixed(2))+" ml/kg/min",1)]),(0,n.QD)("div",ze,[(0,n.mY)(" Średnia Kadencja: "),(0,n.QD)("strong",null,(0,p.WA)(i.averageCadence.toFixed(2))+" kroki/min",1)]),(0,n.QD)("div",Se,[(0,n.mY)(" Średnie Tętno: "),(0,n.QD)("strong",null,(0,p.WA)(i.averageHeartRate.toFixed(2))+" uderzeń/min",1)]),(0,n.QD)("div",xe,[(0,n.mY)(" Średnia Prędkość: "),(0,n.QD)("strong",null,(0,p.WA)(i.averageSpeed.toFixed(2))+" km/h",1)])])],8,ve)])):(0,n.g1)("",!0)}const Oe={props:{columns:{type:Array,default:null},groupData:{type:Object,default:null}},computed:{groupTitle(){return!0===this.groupData.head?this.$t("calc.list.group.head"):this.groupData.head},groupTitleWithKilometers(){return this.groupData.items.length},totalDistance(){let e=null;return this.groupData.items.forEach((t=>{t.distance&&(e+=t.distance)})),e},longestDistance(){if(0===this.groupData.items.length)return null;let e=Math.max(...this.groupData.items.map((e=>e.distance)));return e},totalDuration(){const e=this.groupData.items.map((e=>e.duration)),t=e.reduce(((e,t)=>{const[s,a,r]=t.split(":").map(Number);return e+3600*s+60*a+r}),0),s=W().duration(t,"seconds"),a=s.asHours().toFixed(1);return a},fastestAveragePace(){if(!this.groupData.items||0===this.groupData.items.length)return"-";const e=this.groupData.items.reduce(((e,t)=>{const s=W().duration(t.average_pace).asSeconds(),a=W().duration(e).asSeconds();return s<a?t.average_pace:e}),this.groupData.items[0].average_pace);return`${e}`},averageStrideLength(){const e=this.groupData.items.reduce(((e,t)=>e+t.stride_length),0);return e/this.groupData.items.length},averageVO2Max(){const e=this.groupData.items.reduce(((e,t)=>e+t.v02max),0);return e/this.groupData.items.length},averageCadence(){const e=this.groupData.items.reduce(((e,t)=>e+parseInt(t.cadence)),0);return e/this.groupData.items.length},averageHeartRate(){const e=this.groupData.items.reduce(((e,t)=>e+t.average_heart_rate),0);return e/this.groupData.items.length},averageSpeed(){const e=this.groupData.items.reduce(((e,t)=>e+parseFloat(t.average_speed)),0);return e/this.groupData.items.length}}},we=(0,z.c)(Oe,[["render",Te]]),Ye=we,Me={components:{CalcListItem:fe,CalcListGroupHead:Ye},props:{columns:{type:Array,default:null},data:{type:Object,default:null},groupIndex:{type:Number,default:null},previousGroupLength:{type:Number,default:0}},methods:{globalIndex(e){return this.previousGroupLength+e}}},$e=(0,z.c)(Me,[["render",se]]),Fe=$e,Ce={components:{CalcListGroup:Fe},props:{loader:{type:Object,default:null},columns:{type:Array,default:null},data:{type:Array,default:null},filterYears:{type:Number,default:null},groupBy:{type:String,default:null}},computed:{dataDisplay(){if(!this.data)return[];let e=this.filterYears?this.data.filter((e=>new Date(e.date).getFullYear()===this.filterYears)):this.data;if(this.groupBy){const t=e.reduce(((e,t)=>{const s=new Date(t.date).toLocaleString("default",{[this.groupBy]:"long",year:"numeric"});return e[s]||(e[s]={head:s,items:[]}),e[s].items.push(t),e}),{}),s=Object.values(t).sort(((e,t)=>{const s=new Date(e.head).getFullYear(),a=new Date(t.head).getFullYear();return a-s}));return s}return[{head:!1,items:e}]}},methods:{getPreviousGroupLength(e){let t=0;for(let s=0;s<e;s++)t+=this.dataDisplay[s].items.length;return t}}},Be=(0,z.c)(Ce,[["render",te]]),Ee=Be,He={components:{Statistics:x,StatisticsShoes:B,ListHeader:V,CalcListTable:Ee},data(){return{localFilterYears:this.filterYears,localGroupBy:this.groupBy}},watch:{filterYears(e){this.localFilterYears=e},groupBy(e){this.localGroupBy=e}},computed:{...(0,m.ys)("training",["listLoader","list","listColumns","filterYears","filterYearsOptions","groupBy","groupByOptions"])},methods:{...(0,m.sR)("training",["setListFilterByYear","setListGroupBy"]),...(0,m.ae)("training",["getListCalc"]),...(0,m.ae)("training/shoes",["getTrainingShoes"]),init(){this.getTrainingShoes({}),this.getListCalc({}).finally((()=>{this.getLocalStorageFilter()&&this.handleChangeFilterYears(this.getLocalStorageFilter()),this.getLocalStorageGroupBy()&&this.handleChangeGroupBy(this.getLocalStorageGroupBy())}))},refreshList(){this.init()},handleChangeFilterYears(e){this.setLocalStorageFilter(e),this.setListFilterByYear(e)},handleChangeGroupBy(e){this.setLocalStorageGroupBy(e),this.setListGroupBy(e)},setLocalStorageFilter(e){localStorage.setItem("trening/filter",e)},getLocalStorageFilter(){return localStorage.getItem("trening/filter")?parseInt(localStorage.getItem("trening/filter")):null},setLocalStorageGroupBy(e){localStorage.setItem("trening/groupBy",e)},getLocalStorageGroupBy(){return localStorage.getItem("trening/groupBy")?localStorage.getItem("trening/groupBy"):null}},mounted(){this.init()}},Pe=(0,z.c)(He,[["render",g]]),Ge=Pe;function Ne(e,t="m",s=!1){if(s&&("-"===e||null===e||void 0===e))return"-";const a="m"===t?e:e/1e3,r=s?`${"m"===t?a:a.toFixed(2)} ${t}`:a.toFixed(2);return r}const Ie=(0,m.eC)({state:{listRowOptions:[10,20,50]}}),Ke=Ie;var Ve=s(4988),Re=s(924);const Ue={key:0,class:"loader__wrap"},qe={key:0,class:"loader loader--blur"},Je={key:1,class:"loader"},Ze=(0,n.QD)("span",{class:"loader__circle"},null,-1),Xe=(0,n.QD)("span",{class:"loader__circle"},null,-1),et=(0,n.QD)("span",{class:"loader__circle"},null,-1),tt=(0,n.QD)("span",{class:"loader__circle"},null,-1),st=[Ze,Xe,et,tt],at=["innerHTML"];function rt(e,t,s,a,r,i){return s.loader.isLoading?((0,n.Wz)(),(0,n.An)("div",Ue,["blur"===s.type?((0,n.Wz)(),(0,n.An)("div",qe)):((0,n.Wz)(),(0,n.An)("div",Je,st)),s.text?((0,n.Wz)(),(0,n.An)("div",{key:2,class:"loader__text",innerHTML:s.text},null,8,at)):(0,n.g1)("",!0)])):(0,n.g1)("",!0)}const nt={props:{loader:{type:Object,default:{}},type:{type:String,default:null},text:{type:String,default:null}}},it=(0,z.c)(nt,[["render",rt]]),lt=it,ot={mounted(e,t){const s={loader:t.value.loader,type:t.value.type||null,text:t.value.text||null},a=(0,n.K2)(lt,s),i=(0,n.h)("div",{id:"loader-container"},[a]);(0,r.ai)(i,e)},updated(e,t){const{isLoading:s,isError:a}=t.value.loader;s?e.classList.add("is-loading"):e.classList.remove("is-loading"),a?e.classList.add("is-error"):e.classList.remove("is-error")}},ct={install(e){e.directive("loader",ot)}};function dt(e){e.config.globalProperties.$moment=W(),e.config.globalProperties.$eventBus=new Ve.c,e.config.globalProperties.$formatDate=function(e){return e?this.$moment(e).format("YYYY.MM.DD"):null},e.component("Multiselect",Re.c),e.use(ct)}var ut=s(2774),gt=s(2523);function mt(e){e.use(gt.c,ut.c)}var pt=s(2440);function ht(){const e=s(2812),t={};return e.keys().forEach((s=>{const a=s.match(/([A-Za-z0-9-_]+)\./i);if(a&&a.length>1){const r=a[1];t[r]=e(s)}})),t}const ft=window.navigator.language.slice(0,2).toLowerCase(),_t="pl"===ft?"pl":"en",vt=(0,pt.ae)({legacy:!1,globalInjection:!0,locale:_t,fallbackLocale:"en",messages:ht()}),jt=ut.c.create({baseURL:"https://kwiatkowski.co/wp-json/wp/v2/"}),yt={getPost:({perPage:e})=>jt.get("training",{params:{per_page:e,orderby:"date",order:"desc"}}),getTrainingShoes:()=>jt.get("training_shoes")},Dt={isLoading:null,isError:null,initialized:!1,apiErrors:null,items:[]},Lt={loadStart(e,{name:t,items:s=[]}){e[t].isLoading=!0,e[t].isError=!1,e[t].apiErrors=null,e[t].items=s},loadSuccess(e,{name:t}){e[t].isLoading=!1,e[t].isError=!1,e[t].initialized=!0,e[t].apiErrors=null,e[t].items=[]},loadError(e,{name:t,error:s=null}){console.log("error"),e[t].isLoading=!1,e[t].isError=!0,e[t].initialized=!0,e[t].apiErrors=s},updateApiErrors(e,{name:t,errors:s}){e[t].apiErrors=s},clearLoader(e,{name:t}){e[t]={...Dt}}},bt={states:Dt,mutations:Lt},kt={namespaced:!0,state:{shoes:[],shoesLoader:{...bt.states}},mutations:{...bt.mutations,setShoes(e,t){e.shoes=t}},actions:{getTrainingShoes({state:e,commit:t},{}){return t("loadStart",{name:"shoesLoader"}),yt.getTrainingShoes({}).then((e=>{let s=e.data;s.forEach((e=>{delete e.description,delete e.link,delete e.taxonomy,delete e.parent,delete e.meta,delete e.acf,delete e.yoast_head,delete e.yoast_head,delete e.yoast_head_json,delete e._links})),t("setShoes",s),t("loadSuccess",{name:"shoesLoader"})})).catch((e=>{t("loadError",{name:"shoesLoader"})}))}}},At={namespaced:!0,modules:{shoes:kt},state:{list:[],listLoader:{...bt.states},listColumns:[{name:"ord"},{name:"date_run"},{name:"distance"},{name:"duration"},{name:"stride_length"},{name:"average_heart_rate"},{name:"v02max"},{name:"cadence"},{name:"average_pace"},{name:"average_speed"}],filterYears:null,filterYearsOptions:[],groupBy:null,groupByOptions:["month","year"],distances:[{name:"5km",value:5e3},{name:"10km",value:1e4},{name:"half_marathon",value:21097},{name:"marathon",value:42195}]},mutations:{...bt.mutations,setList(e,t){const s=Array.from(new Set(t.map((e=>new Date(e.date).getFullYear()))));e.list=t,e.filterYearsOptions=s},setListFilterByYear(e,t){e.filterYears=t},setListGroupBy(e,t){e.groupBy=t}},actions:{getListCalc({state:e,commit:t},{}){return t("loadStart",{name:"listLoader"}),yt.getPost({perPage:99999}).then((e=>{let s=e.data;s.forEach((e=>{delete e.id,delete e.guid,delete e.slug,delete e.status,delete e.type,delete e.link,delete e.title,delete e.template,delete e._links,delete e.modified,delete e.modified_gmt,delete e.date_gmt,e.distance=e.acf.distance,e.duration=e.acf.duration,e.stride_length=e.acf.stride_length,e.average_heart_rate=e.acf.average_heart_rate,e.v02max=e.acf.v02max,e.shoe=e.acf.shoe,e.type=e.acf.type,delete e.acf,e.cadence=Wt(e.distance,e.duration,e.stride_length).cadence,e.average_pace=Wt(e.distance,e.duration).pace,e.average_speed=Wt(e.distance,e.duration).speed})),t("setList",s),t("loadSuccess",{name:"listLoader"})})).catch((e=>{t("loadError",{name:"listLoader"})}))}}};function Wt(e,t,s=null){let[a,r,n]=t.split(":").map(Number),i=60*a+r+n/60,l=3600*a+60*r+n,o=.001*e,c=Math.round(e/(s/100)/i),d=o/(l/3600),u=l/o,g=Math.floor(u/60),m=Math.round(u%60);return{speed:`${d.toFixed(2)}`,pace:`${g.toString().padStart(2,"0")}:${m.toString().padStart(2,"0")}`,cadence:`${c}`}}Ke.registerModule("training",At);const Qt=(0,r.W0)(Ge);Object.keys(a).forEach((e=>{Qt.config.globalProperties.$filters={...Qt.config.globalProperties.$filters||{},[e]:a[e]}})),Qt.use(Ke),Qt.use(vt),dt(Qt),mt(Qt),Qt.mount("#app")},2812:(e,t,s)=>{var a={"./en.json":9472,"./pl.json":2272};function r(e){var t=n(e);return s(t)}function n(e){if(!s.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=n,e.exports=r,r.id=2812},9472:e=>{"use strict";e.exports=JSON.parse('{"calc":{"list":{"columns":{"ord":"Ord.","date_run":"Date run","distance":"Distance","duration":"Duration","stride_length":"Stride length","average_heart_rate":"Average heart rate","v02max":"V02Max","cadence":"Cadence","average_pace":"Average pace","average_speed":"Average speed"}}}}')},2272:e=>{"use strict";e.exports=JSON.parse('{"calc":{"list":{"columns":{"ord":"Lp.","date_run":"Data biegu","distance":"Dystans","duration":"Czas trwania","stride_length":"Długość kroku","average_heart_rate":"Średnie tętno","v02max":"V02Max","cadence":"Kadencja","average_pace":"Średnie tempo","average_speed":"Średnia prędkość"},"group":{"head":"Wszystkie"},"group_by":{"placeholder":"Grupuj po"},"filter_by":{"placeholder":"Wybierz rok"}}},"type_run_distance":{"5km":"5 km","10km":"10 km","half_marathon":"Półmaraton","marathon":"Maraton"},"statistics":{"title":"Statytyki","count_training_sessions":"Ilość treningów","total_distance":"Całkowity dystans","total_duration":"Całkowity czas trwania","longest_distance":"Najdłuższy dystans","fastest_average_pace":"Najszybsze średnie tempo","fastest_time":"Najszybszy czas","wear":"Zużycie"}}')}},t={};function s(a){var r=t[a];if(void 0!==r)return r.exports;var n=t[a]={id:a,loaded:!1,exports:{}};return e[a].call(n.exports,n,n.exports,s),n.loaded=!0,n.exports}s.m=e,(()=>{s.amdO={}})(),(()=>{var e=[];s.O=(t,a,r,n)=>{if(!a){var i=1/0;for(d=0;d<e.length;d++){for(var[a,r,n]=e[d],l=!0,o=0;o<a.length;o++)(!1&n||i>=n)&&Object.keys(s.O).every((e=>s.O[e](a[o])))?a.splice(o--,1):(l=!1,n<i&&(i=n));if(l){e.splice(d--,1);var c=r();void 0!==c&&(t=c)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[a,r,n]}})(),(()=>{s.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return s.d(t,{a:t}),t}})(),(()=>{s.d=(e,t)=>{for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}})(),(()=>{s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{s.hmd=e=>(e=Object.create(e),e.children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e)})(),(()=>{s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{s.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{s.nmd=e=>(e.paths=[],e.children||(e.children=[]),e)})(),(()=>{var e={656:0};s.O.j=t=>0===e[t];var t=(t,a)=>{var r,n,[i,l,o]=a,c=0;if(i.some((t=>0!==e[t]))){for(r in l)s.o(l,r)&&(s.m[r]=l[r]);if(o)var d=o(s)}for(t&&t(a);c<i.length;c++)n=i[c],s.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return s.O(d)},a=self["webpackChunkvue_boilerplate_template"]=self["webpackChunkvue_boilerplate_template"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var a=s.O(void 0,[999],(()=>s(7396)));a=s.O(a)})();
//# sourceMappingURL=index.04561217.js.map